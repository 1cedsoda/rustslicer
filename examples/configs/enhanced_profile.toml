# RustSlicer Enhanced Configuration Profile
# This demonstrates the new configuration structure with dedicated sections

[metadata]
profile_name = "Enhanced PLA Profile"
version = "2.0"
author = "Philipp"

# Input file configuration
[input]
stl_path = "examples/models/calibration_cube.stl"
x_rotation = 0.0    # Rotation around X axis in degrees
y_rotation = 0.0    # Rotation around Y axis in degrees
z_rotation = 0.0    # Rotation around Z axis in degrees
scale = 1.0         # Scaling factor (1.0 = original size)

# Output file configuration
[output]
gcode_path = "output/calibration_cube.gcode"
thumbnail = false   # Generate thumbnail preview
comments = true     # Include comments in G-code

# Machine/Printer configuration
[machine]
printer_type = "cartesian"
build_volume = [220.0, 220.0, 250.0]  # X, Y, Z in mm
nozzle_diameter = 0.4
filament_diameter = 1.75
max_feedrate = [300.0, 300.0, 12.0, 80.0]  # X, Y, Z, E in mm/s
max_acceleration = [3000.0, 3000.0, 100.0, 5000.0]  # X, Y, Z, E in mm/s²

# Quality settings - layer heights and print detail
[quality]
layer_height = 0.2              # Standard layer height in mm
first_layer_height = 0.3        # Thicker first layer for adhesion
line_width = 0.4                # Extrusion width in mm
perimeters = 3                  # Number of perimeter walls
top_solid_layers = 4            # Solid layers on top
bottom_solid_layers = 3         # Solid layers on bottom

# Speed settings for different operations
[speed]
external_perimeter_speed = 40.0    # Outer wall speed (mm/s)
perimeter_speed = 60.0             # Inner wall speed (mm/s)
infill_speed = 80.0                # Infill printing speed (mm/s)
solid_infill_speed = 60.0          # Top/bottom solid fill speed (mm/s)
travel_speed = 150.0               # Non-printing moves (mm/s)
first_layer_speed = 20.0           # First layer speed for adhesion (mm/s)

# Infill and support configuration
[infill]
infill_density = 0.20           # 20% infill density
infill_pattern = "gyroid"       # Pattern: rectilinear, honeycomb, gyroid, concentric
support_material = false        # Enable support structures
support_density = 0.15          # Support structure density (15%)

# Filament/Material settings
[filament]
filament_type = "PLA"
temperature = 210                      # Nozzle temperature (°C)
bed_temperature = 60                   # Bed temperature (°C)
first_layer_temperature = 215          # First layer nozzle temp (°C)
first_layer_bed_temperature = 65       # First layer bed temp (°C)
filament_diameter = 1.75               # Filament diameter (mm)
flow_rate = 1.0                        # Flow multiplier (1.0 = 100%)
fan_speed = 100                        # Cooling fan speed (0-100%)
cooling_min_layer_time = 10.0          # Minimum time per layer (seconds)

# G-code generation settings
[gcode]
gcode_flavor = "marlin"
use_relative_e = false

start_gcode = """
G28 ; Home all axes
G1 Z15.0 F6000 ; Move platform down
G92 E0 ; Reset extruder
G1 F200 E3 ; Extrude a short distance
G92 E0 ; Reset extruder again
M117 Printing... ; Display message
"""

end_gcode = """
M104 S0 ; Turn off hotend
M140 S0 ; Turn off bed
G91 ; Relative positioning
G1 E-2 F2700 ; Retract filament
G1 Z10 ; Raise Z
G90 ; Absolute positioning
G28 X Y ; Home X and Y
M84 ; Disable motors
M117 Print complete! ; Display message
"""
